<?xml version="1.0" encoding="utf-8" ?>
<otrs_package version="1.1">
    <Name>OTRSSqlQueriesHistory</Name>
    <Version>1.0.0</Version>
    <Vendor>bieli.net</Vendor>
    <URL>http://bieli.net/</URL>
    <License>This source code is published under GPL v3 licence</License>
    <Description Lang="en">This OTRS 3 package extends AdminSelectBox module for storing SQL queries history (on client/webbrowser side - localStorage).</Description>
    <Description Lang="pl">To rozszerzenie OTRS 3 rozszerza moduł AdminSelectBox o składowanie historii zapytań SQL (po stronie klienta/przeglądarki - localStorage).</Description>
    <Framework>3.0.x</Framework>
    <BuildDate>2013-03-14 23:46:04</BuildDate>
    <BuildHost>yourhost.example.com</BuildHost>
    <Filelist>
        <File Location="Kernel/Config/Files/OTRSSqlQueriesHistory.xml" Permission="666" Encode="Base64">PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiID8+CjxvdHJzX2NvbmZpZyB2ZXJzaW9uPSIxLjAiIGluaXQ9IkFwcGxpY2F0aW9uIj4KICAgIDxDVlM+JElkOiBPVFJTU3FsUXVlcmllc0hpc3RvcnkueG1sLHYgMS4wLjAuMCAyMDEyLzA5LzIyIDIxOjEyOjIgYmllbGkgRXhwICQ8L0NWUz4KICAgIDxDb25maWdJdGVtIE5hbWU9IkZyb250ZW5kOjpNb2R1bGUjIyNBZG1pblNlbGVjdEJveCIgUmVxdWlyZWQ9IjAiIFZhbGlkPSIxIj4KICAgICAgICA8RGVzY3JpcHRpb24gVHJhbnNsYXRhYmxlPSIxIj5Gcm9udGVuZCBtb2R1bGUgcmVnaXN0cmF0aW9uIGZvciB0aGUgYWdlbnQgaW50ZXJmYWNlLjwvRGVzY3JpcHRpb24+CiAgICAgICAgPEdyb3VwPkZyYW1ld29yazwvR3JvdXA+CiAgICAgICAgPFN1Ykdyb3VwPkZyb250ZW5kOjpBZG1pbjo6TW9kdWxlUmVnaXN0cmF0aW9uPC9TdWJHcm91cD4KICAgICAgICA8U2V0dGluZz4KICAgICAgICAgICAgPEZyb250ZW5kTW9kdWxlUmVnPgogICAgICAgICAgICAgICAgPEdyb3VwPmFkbWluPC9Hcm91cD4KICAgICAgICAgICAgICAgIDxEZXNjcmlwdGlvbj5BZG1pbjwvRGVzY3JpcHRpb24+CiAgICAgICAgICAgICAgICA8VGl0bGU+U1FMIEJveDwvVGl0bGU+CiAgICAgICAgICAgICAgICA8TmF2QmFyTmFtZT5BZG1pbjwvTmF2QmFyTmFtZT4KICAgICAgICAgICAgICAgIDxOYXZCYXJNb2R1bGU+CiAgICAgICAgICAgICAgICAgICAgPE1vZHVsZT5LZXJuZWw6Ok91dHB1dDo6SFRNTDo6TmF2QmFyTW9kdWxlQWRtaW48L01vZHVsZT4KICAgICAgICAgICAgICAgICAgICA8TmFtZSBUcmFuc2xhdGFibGU9IjEiPlNRTCBCb3g8L05hbWU+CiAgICAgICAgICAgICAgICAgICAgPERlc2NyaXB0aW9uIFRyYW5zbGF0YWJsZT0iMSI+RXhlY3V0ZSBTUUwgc3RhdGVtZW50cy48L0Rlc2NyaXB0aW9uPgogICAgICAgICAgICAgICAgICAgIDxCbG9jaz5TeXN0ZW08L0Jsb2NrPgogICAgICAgICAgICAgICAgICAgIDxQcmlvPjcwMDwvUHJpbz4KICAgICAgICAgICAgICAgIDwvTmF2QmFyTW9kdWxlPgogICAgICAgICAgICAgICAgPExvYWRlcj4KICAgICAgICAgICAgICAgICAgICA8SmF2YVNjcmlwdD50aGlyZHBhcnR5L2pzdG9yYWdlL2pzdG9yYWdlLmpzPC9KYXZhU2NyaXB0PgogICAgICAgICAgICAgICAgICAgIDxKYXZhU2NyaXB0PkNvcmUuQWdlbnQuQWRtaW4uQWRtaW5TZWxlY3RCb3guanM8L0phdmFTY3JpcHQ+CiAgICAgICAgICAgICAgICA8L0xvYWRlcj4KICAgICAgICAgICAgPC9Gcm9udGVuZE1vZHVsZVJlZz4KICAgICAgICA8L1NldHRpbmc+CiAgICA8L0NvbmZpZ0l0ZW0+Cjwvb3Ryc19jb25maWc+Cgo=</File>
        <File Location="var/httpd/htdocs/js/Core.Agent.Admin.AdminSelectBox.js" Permission="666" Encode="Base64">Ly8gLS0KLy8gQ29yZS5BZ2VudC5BZG1pbi5BZG1pblNlbGVjdEJveC5qcyAtIHByb3ZpZGVzIHRoZSBzcGVjaWFsIG1vZHVsZSBmdW5jdGlvbnMgZm9yIHRoZSBBZG1pblNlbGVjdEJveAovLyBDb3B5cmlnaHQgKEMpIDIwMDEtMjAxMyBiaWVsaSwgaHR0cDovL2JpZWxpLm5ldC8KLy8gLS0KLy8gJElkOiBDb3JlLkFnZW50LkFkbWluLkFkbWluU2VsZWN0Qm94LmpzLHYgMS4wLjAuMCAyMDEyLzA5LzIwIDE2OjE1OjM0IGJpZWxpIEV4cCAkCi8vIC0tCi8vIFRoaXMgc29mdHdhcmUgY29tZXMgd2l0aCBBQlNPTFVURUxZIE5PIFdBUlJBTlRZLiBGb3IgZGV0YWlscywgc2VlCi8vIHRoZSBlbmNsb3NlZCBmaWxlIENPUFlJTkcgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24gKEFHUEwpLiBJZiB5b3UKLy8gZGlkIG5vdCByZWNlaXZlIHRoaXMgZmlsZSwgc2VlIGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy9hZ3BsLnR4dC4KLy8gLS0KCiJ1c2Ugc3RyaWN0IjsKCnZhciBDb3JlID0gQ29yZSB8fCB7fTsKQ29yZS5BZ2VudCA9IENvcmUuQWdlbnQgfHwge307CkNvcmUuQWdlbnQuQWRtaW4gPSBDb3JlLkFnZW50LkFkbWluIHx8IHt9OwoKLyoqCiAqIEBuYW1lc3BhY2UgICBBZG1pblNlbGVjdEJveAogKiBAZXhwb3J0cyAgICAgVGFyZ2V0TlMgYXMgQ29yZS5BZ2VudC5BZG1pbi5BZG1pblNlbGVjdEJveAogKiBAZGVzY3JpcHRpb24gCiAqICAgICAgVGhpcyBuYW1lc3BhY2UgY29udGFpbnMgdGhlIHNwZWNpYWwgbW9kdWxlIGZ1bmN0aW9ucyBmb3IgdGhlIEFkbWluU2VsZWN0Qm94IG1vZHVsZS4KICovCkNvcmUuQWdlbnQuQWRtaW4uQWRtaW5TZWxlY3RCb3ggPSAoZnVuY3Rpb24gKFRhcmdldE5TKSB7CgogICAgZnVuY3Rpb24gb25seVVuaXF1ZVZhbHVlcyhzcWxfcXVlcmllc19scykgewogICAgICAgIHZhciBzZXQgPSB7fTsKICAgICAgICB2YXIgc2V0MiA9IFtdOwoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNxbF9xdWVyaWVzX2xzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHNldFtzcWxfcXVlcmllc19sc1tpXS5xdWVyeV0gPSAxOwogICAgICAgICAgICBzZXQyW2ldID0gc3FsX3F1ZXJpZXNfbHNbaV0udGltZXN0YW1wOwogICAgICAgIH0KCiAgICAgICAgdmFyIHNxbF9xdWVyaWVzID0gW107CgogICAgICAgIGkgPSAwOwoKICAgICAgICBmb3IodmFyIGtleSBpbiBzZXQpIHsKICAgICAgICAgICAgc3FsX3F1ZXJpZXMucHVzaCh7IHRpbWVzdGFtcDogc2V0MltpKytdLCBxdWVyeToga2V5IH0pOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHNxbF9xdWVyaWVzOwogICAgfQoKICAgIGZ1bmN0aW9uIGFkZEJsb2NrKCkgewogICAgICAgICQoJ2Rpdi5TaWRlYmFyQ29sdW1uJykuYXBwZW5kKCc8ZGl2IGNsYXNzPSJXaWRnZXRTaW1wbGUiPjxkaXYgY2xhc3M9IkhlYWRlciI+PGgyPlNRTCBRdWVyaWVzIEhpc3Rvcnk8L2gyPjwvZGl2PjxkaXYgY2xhc3M9IkNvbnRlbnQiPjxwPjx1bCBpZD0ic3FsX3F1ZXJpZXMiPjwvdWw+PC9wPjwvZGl2PjwvZGl2PicpOwogICAgfTsKCiAgICBmdW5jdGlvbiBsb2FkTGlzdCgpIHsKICAgICAgICB2YXIgc3FsX3F1ZXJpZXNfbHMgPSBbXTsKICAgICAgICB2YXIgcXVlcnkgPSAnJzsKICAgICAgICB2YXIgdGltZXN0YW1wID0gJyc7CgogICAgICAgIE9iamVjdC5rZXlzKGxvY2FsU3RvcmFnZSkKICAgICAgICAgICAgLmZvckVhY2goZnVuY3Rpb24oa2V5KXsKICAgICAgICAgICAgICAgIGlmICgvXihvdHJzOjopLy50ZXN0KGtleSkpIHsKICAgICAgICAgICAgICAgICAgIHF1ZXJ5ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KTsKCiAgICAgICAgICAgICAgICAgICBzcWxfcXVlcmllc19scy5wdXNoKHsgdGltZXN0YW1wOiBrZXkuc3Vic3RyaW5nKCdvdHJzOjpzcWxfbG9nXycubGVuZ3RoLCBrZXkubGVuZ3RoKSwgcXVlcnk6IHF1ZXJ5IH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgIH0pOwoKICAgICAgICBzcWxfcXVlcmllcyA9IG9ubHlVbmlxdWVWYWx1ZXMoc3FsX3F1ZXJpZXNfbHMpOwoKLy9jb25zb2xlLmxvZyhzcWxfcXVlcmllcyk7CgogICAgICAgIGlmIChzcWxfcXVlcmllcykgewogICAgICAgICAgICB2YXIgbGFzdCA9ICIiOwogICAgICAgICAgICB2YXIgaXRlbSA9IDE7CgogICAgICAgICAgICBzcWxfcXVlcmllcy5mb3JFYWNoKCBmdW5jdGlvbihrLCB2KSB7IAogICAgICAgICAgICAgICAgaWYgKCBsYXN0ICE9IGsucXVlcnkgKSB7CiAgICAgICAgICAgICAgICAgICQoJ3VsI3NxbF9xdWVyaWVzJykuYXBwZW5kKAogICAgICAgICAgICAgICAgICAgICAgJCgnPGxpPicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnPGJ1dHRvbj4nKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2lkJywgJ3NxaF9idG5fZGVsZXRlXycgKyBpdGVtKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3NxaF9idG4nKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3N0eWxlJywgJ2hlaWdodDogMjBweDsgd2lkdGg6IDIwcHg7IGZvbnQtc2l6ZTogMTJweDsgY29sb3I6IHJlZDsnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ25hbWUnLCAnc3FoX2J0bl9kZWxldGVfJyArIGl0ZW0pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignZGF0YS10aW1lc3RhbXAnLCBrLnRpbWVzdGFtcCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdvbkNsaWNrJywgJ0NvcmUuQWdlbnQuQWRtaW4uQWRtaW5TZWxlY3RCb3gucmVtb3ZlU3FsTG9nSXRlbSgnICsgay50aW1lc3RhbXAgKyAnLCAnICsgaXRlbSArICcpJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50ZXh0KCJ4IikKICAgICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnPGJ1dHRvbj4nKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2lkJywgJ3NxaF9idG5fJyArIGl0ZW0pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnc3FoX2J0bicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignc3R5bGUnLCAnaGVpZ2h0OiAyMHB4OyB3aWR0aDogMjBweDsgZm9udC1zaXplOiAxMnB4OyBjb2xvcjogZ3JlZW47JykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCduYW1lJywgJ3NxaF9idG5fJyArIGl0ZW0pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignZGF0YS10aW1lc3RhbXAnLCBrLnRpbWVzdGFtcCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdvbkNsaWNrJywgIkNvcmUuQWdlbnQuQWRtaW4uQWRtaW5TZWxlY3RCb3gudXNlTG9nSXRlbSgnIiArIGsudGltZXN0YW1wICsgIicpIikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50ZXh0KCLih5IiKQogICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCc8c3Bhbj4nKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRleHQoJyAnICsgay5xdWVyeS5zbGljZSgwLCAzMCkgKyAnIFsuLl0nKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3RpdGxlJywgay5xdWVyeSkKICAgICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICk7CgogICAgICAgICAgICAgICAgICBsYXN0ID0gay5xdWVyeTsKICAgICAgICAgICAgICAgICAgaXRlbSsrOwogICAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICB9CiAgICB9OwoKICAgIGZ1bmN0aW9uIGFkZFNxbExvZ0l0ZW0oc3FsX3F1ZXJ5KSB7CiAgICAgICAgdmFyIHRpbWVzdGFtcCA9ICtuZXcgRGF0ZSgpLmdldFRpbWUoKTsKLy9jb25zb2xlLmxvZygnYWRkU3FsTG9nSXRlbTogJywgdGltZXN0YW1wLCBzcWxfcXVlcnkpOwogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdvdHJzOjpzcWxfbG9nXycgKyB0aW1lc3RhbXAsIHNxbF9xdWVyeSk7CiAgICB9OwoKICAgIFRhcmdldE5TLnVzZUxvZ0l0ZW0gPSBmdW5jdGlvbiAodGltZXN0YW1wKSB7CiAgICAgICAgICB2YXIgc3FsX3F1ZXJ5ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ290cnM6OnNxbF9sb2dfJyArIHRpbWVzdGFtcCk7Ci8vY29uc29sZS5sb2coJ3VzZUxvZ0l0ZW06ICcsIHNxbF9xdWVyeSk7CgogICAgICAgICAgc3FsX3F1ZXJ5X2FyciA9IHNxbF9xdWVyeS5zcGxpdCgiIExJTUlUICIpOwovL2NvbnNvbGUubG9nKCd1c2VMb2dJdGVtIHNwbGl0OiAnLCBzcWxfcXVlcnlfYXJyKTsKCiAgICAgICAgICAkKCcjU1FMJykudmFsKHNxbF9xdWVyeV9hcnJbMF0pOwogICAgICAgICAgJCgnI01heCcpLnZhbChzcWxfcXVlcnlfYXJyWzFdKTsKICAgIH07CgogICAgVGFyZ2V0TlMucmVtb3ZlU3FsTG9nSXRlbSA9IGZ1bmN0aW9uICh0aW1lc3RhbXAsIGl0ZW0pIHsKLy9jb25zb2xlLmxvZygncmVtb3ZlU3FsTG9nSXRlbTogJywgdGltZXN0YW1wLCBpdGVtKTsKICAgICAgICB2YXIgc3FsX3F1ZXJ5ID0gbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ290cnM6OnNxbF9sb2dfJyArIHRpbWVzdGFtcCwgc3FsX3F1ZXJ5KTsKICAgICAgICAkKCIjc3FoX2J0bl9kZWxldGVfIiArIGl0ZW0pLnBhcmVudCgpLnJlbW92ZSgpOyAKICAgIH07CgogICAgLyoqCiAgICAgKiBAZnVuY3Rpb24KICAgICAqIEByZXR1cm4gbm90aGluZwogICAgICogICAgICBUaGlzIGZ1bmN0aW9uIGluaXRpYWxpemVzIHRoZSBzcGVjaWFsIG1vZHVsZSBmdW5jdGlvbnMKICAgICAqLwogICAgVGFyZ2V0TlMuSW5pdCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAkKCcjUnVuJykudW5iaW5kKCdjbGljaycpLmNsaWNrKCBmdW5jdGlvbiAoKXsKICAgICAgICAgICAgdmFyIHNxbF9xdWVyeSA9ICQoJyNTUUwnKS52YWwoKS50cmltKCkgKyAiIExJTUlUICIgKyAkKCcjTWF4JykudmFsKCkudHJpbSgpOwogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKCBzcWxfcXVlcnkubGVuZ3RoID4gMCApIHsKICAgICAgICAgICAgICAgIGFkZFNxbExvZ0l0ZW0oc3FsX3F1ZXJ5KTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwoKICAgICAgICBhZGRCbG9jaygpOwoKICAgICAgICBsb2FkTGlzdCgpOwogICAgfTsKCiAgICByZXR1cm4gVGFyZ2V0TlM7Cn0oQ29yZS5BZ2VudC5BZG1pbi5BZG1pblNlbGVjdEJveCB8fCB7fSkpOwoKQ29yZS5BZ2VudC5BZG1pbi5BZG1pblNlbGVjdEJveC5Jbml0KCk7Cgo=</File>
    </Filelist>
</otrs_package>